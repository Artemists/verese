{% extends "base.html" %}

{% block content %}

<!----------------------------------------------------------------------------->

  <!-- Login Page -->

  <div data-role="page" style="text-align:center;" id="login" data-url="{% url vereseapp %}#login" data-title="Verese" >
    <div data-role="header" data-position="fixed">
    </div><!-- /header -->

    <div data-role="content">
      <div id="logo">
        <img src="/media/verese.png"></img>
      </div>

      <div data-role="fieldcontain">
        <form id="loginform">
          {% csrf_token %}
	  <label for="username">Username:</label>
	  <input type="text" name="username" id="username" value="">
	  <label for="password">Password:</label>
	  <input type="password" name="password" id="password" value="">
	  <button value="submit-value" name="submit" data-theme="a" type="submit" class="ui-btn-hidden" aria-disabled="false">Login</button>
        </form>

	<a id="browserid" href="#"><img src="https://browserid.org/i/sign_in_blue.png"></img></a>
	<form method="POST" action="{% url browserid_verify %}" data-ajax="false">
	{% csrf_token %}
	<input type="hidden" name="assertion" id="id_assertion" />
	</form>

      </div>

      <a href="#faq" data-role="button" data-transition="slide" data-inline="true" data-icon="info">Frequently Asked Questions</a>
    </div><!-- /content -->

    <div data-role="footer" data-theme="d">
      <h4><sub>copyleft verese project 2011</sub></h4>
    </div><!-- /footer -->

  </div><!-- /login page -->

<!----------------------------------------------------------------------------->

  <!-- Logout Page -->

  <div data-role="page" style="text-align:center;" id="logout" data-url="{% url vereseapp %}#logout" data-title="Logout" >
    <div data-role="header" data-position="fixed">
    </div><!-- /header -->

    <div data-role="content">
      <div id="logo">
        <img src="/media/verese.png"></img>
      </div>
    </div>

    <div data-role="footer" data-theme="d">
      <h4><sub>copyleft verese project 2011</sub></h4>
    </div><!-- /footer -->

  </div><!-- /logout page -->


<!----------------------------------------------------------------------------->

  <!-- FAQ Page -->

  <div data-role="page" id="faq" data-add-back-btn="true" data-title="FAQ">
    <div data-role="header" data-position="fixed">
      <h1>FAQ</h1>
    </div><!-- /header -->

    <div data-role="content">

      <h2>What is verese?</h2>

      <h2>How to use it?</h2>

      <h2>Is is free?</h2>

      Yes! Verese is completelly free to use. But it's also open
      source software. You can download the source, modify it and even
      setup your own verese instance!
    </div>

    <div data-role="footer" data-theme="d">
      <h4><sub>copyleft verese project 2011</sub></h4>
    </div><!-- /footer -->
  </div><!-- /FAQ page -->

<!----------------------------------------------------------------------------->

<!-- Dashboard page -->
<div data-role="page" id="dashboard" data-title="Dashboard" data-url="#dashboard">

  <div data-role="header" data-position="fixed" data-id="vereseheader">
    <h1>Verese</h1>
    <a href="#logout" data-icon="gear" data-iconpos="notext" class="ui-btn-right jqm-home">Logout</a>
  </div><!-- /header -->

  <!-- content starts -->
  <div data-role="content" style="text-align:center;">
    <div class="apply-padding-10">
      <img src="/media/images/app/apple-touch-icon-114.png"/>
    </div>

    <!-- grid 'a' starts -->
    <div class="ui-grid-a">
      <!-- populated by populate_profile -->
      <div class="ui-block-a apply-padding-bottom-5">
	<a href="#add"><img class="apply-padding-5" src="/media/images/app/add.png"/></a>
	<br/>
	Add
      </div>

      <!-- populated by populate_balance -->
      <div class="ui-block-b apply-padding-bottom-5">
	<a href="#activity"><img class="apply-padding-5" src="/media/images/app/activity.png"/></a>
	<br/>
	Activity
      </div>

      <!-- populated by populate_profile -->
      <div class="ui-block-a apply-padding-bottom-5">
	<a href="#connections"><img class="apply-padding-5" src="/media/images/app/connections.png"/></a>
	<br/>
	Connections
      </div>

      <!-- populated by populate_balance -->
      <div class="ui-block-b apply-padding-bottom-5">
	<a href="#statistics"><img class="apply-padding-5" src="/media/images/app/statistics.png"/></a>
	<br/>
	Statistics
      </div>

    </div>
    <!-- grid 'a' ends -->

  </div>
  <!-- content ends -->

</div>


<!----------------------------------------------------------------------------->

<!-- Activity page -->
<div data-role="page" id="activity" data-title="Activity" data-url="#activity">

  <div data-role="header" data-position="fixed" data-id="vereseheader">
    <a href="#dashboard" data-icon="home" data-iconpos="notext" class="ui-btn-left jqm-home" data-direction="reverse">Dashboard</a>
    <h1>Activity</h1>
    <a href="#logout" data-icon="gear" data-iconpos="notext" class="ui-btn-right jqm-home">Logout</a>
  </div><!-- /header -->

  <!-- content starts -->
  <div data-role="content">
    <!-- transaction list -->
    <ul id="transaction_list" data-role='listview'>
    </ul>
    <!-- transaction list -->
    <div class="ui-grid-a">
      <button id="load-more-button" name="more" data-theme="a" class="ui-btn-hidden" aria-disabled="false">Load More</button>
    </div>
  </div>
  <!-- content ends -->

</div>


<!----------------------------------------------------------------------------->


<!-- Add Veresedaki Page -->

<div data-role="page" id="add" data-title="Add" data-url="#add">

  <!-- header starts -->
  <div data-role="header" data-position="fixed" data-id="vereseheader">
    <a href="#dashboard" data-icon="home" data-iconpos="notext" class="ui-btn-left jqm-home" data-direction="reverse">Dashboard</a>
    <h1>Add new</h1>
    <a href="#logout" data-icon="gear" data-iconpos="notext" class="ui-btn-right jqm-home">Logout</a>
  </div>
  <!-- header ends -->

  <!-- content starts -->
  <div data-role="content">
    <input type="input" id="add-person-search" />
  </div>
  <!-- content ends -->

</div>

<!----------------------------------------------------------------------------->

<!-- connections page start -->

<div data-role="page" id="connections" data-title="Connections" data-url="#connections">

  <!-- header starts -->
  <div data-role="header" data-position="fixed" data-id="vereseheader">
    <a href="#dashboard" data-icon="home" data-iconpos="notext" class="ui-btn-left jqm-home" data-direction="reverse">Dashboard</a>
    <h1>Connections</h1>
    <a href="#logout" data-icon="gear" data-iconpos="notext" class="ui-btn-right jqm-home">Logout</a>
  </div>
  <!-- header ends -->

  <!-- content starts -->
  <div data-role="content">
    <!-- transaction list -->
    <div>
      <ul id="relation_list" data-role='listview' data-filter="true">
      </ul>
    </div>
    <!-- transaction list -->

  </div>
  <!-- content ends -->

</div>


<!-- connections page end -->

<!----------------------------------------------------------------------------->


<!-- analysis page start -->

<div data-role="page" id="statistics" data-title="Statistics" data-url="#statistics">

  <!-- header starts -->
  <div data-role="header" data-position="fixed" data-id="vereseheader">
    <a href="#dashboard" data-icon="home" data-iconpos="notext" class="ui-btn-left jqm-home" data-direction="reverse">Dashboard</a>
    <h1>Statistics</h1>
    <a href="#logout" data-icon="gear" data-iconpos="notext" class="ui-btn-right jqm-home">Logout</a>
  </div>
  <!-- header ends -->

  <!-- content starts -->
  <div data-role="content">
    <p> not ready yet 2</p>
  </div>
  <!-- content ends -->


</div>


<!-- analysis page end -->

<!----------------------------------------------------------------------------->


<!-- welcome page start -->
<div data-role="page" id="welcome" data-title="Welcome" data-url="#welcome">

  <!-- start header -->
  <div data-role="header" data-position="fixed" data-id="vereseheader">
    <h1>Welcome</h1>
  </div>
  <!-- end header -->

  <!-- start content -->
  <div data-role="content">

    <h2>Hello and welcome to Verese!</h2>

    <p>Please fill in some details to complete your registration:</p>

    <form id="welcomeform">
      <label for="first_name">First Name:</label>
      <input type="text" name="first_name" id="first_name" />
      <label for="first_name">Last Name:</label>
      <input type="text" name="last_name" id="last_name" />

      <div data-role="fieldcontain">
	<label for="currency" class="select">Currency:</label>
	<select name="currency" id="currency">
	  <option value="{{ currency.id }}">Choose one...</option>
	  {% for currency in currencies %}
	  <option value="{{ currency.id }}">{{ currency.symbol }} - {{ currency.name }} </option>
	  {% endfor %}
	</select>
      </div>
      <button value="submit-value" name="submit" data-theme="a" type="submit" class="ui-btn-hidden" aria-disabled="false">Ready</button>
    </form>
  </div>
  <!-- end content -->

  <!-- start footer -->
  <div data-role="footer" data-theme="d">
    <h4><sub>copyleft verese project 2011</sub></h4>
  </div><!-- /footer -->

  <!-- end footer -->

</div>
<!-- end page -->

<!-- welcome page end -->


<!----------------------------------------------------------------------------->
<!-- templates start -->

<script id="transactionItem" type="text/x-jquery-tmpl">
 <li data-icon="${icon}" class="transaction-item">
   <a href="#" id="transaction-${id}">
     <img style="top:1.4em" src="http://www.gravatar.com/avatar/${md5}?s=48&d=identicon">
     <h3>${name}</h3>
     <p>${comment}&nbsp;</p>
     <p><span  class="transaction_date" title="${date}">more than a month ago</span>
         {% templatetag openvariable %}if location{% templatetag closevariable %}
           at ${location}
         {% templatetag openvariable %}/if{% templatetag closevariable %}
     </p>
     <span class="ul-li-aside">${currency.symbol} ${sign}${amount}</span>
   </a>
 </li>
 <li data-theme="a" style="display:none" class="transaction-item-details" id="transaction-${id}-details">
 {# trying to implement {{html details}} with django template systems parsing that #}
 {% templatetag openvariable %}html details{% templatetag closevariable %}
 </li>
</script>

<script id="relationItem" type="text/x-jquery-tmpl">
 <li>
     <img style="top:0.9em" src="http://www.gravatar.com/avatar/${user.emailmd5}?s=48&d=identicon">
     <h3>${user.first_name} ${user.last_name}</h3>
     <p>Last verese <span class="relation_date" title="${updated}">more than a month ago</span></p>
     <span class="ul-li-aside">${balance} ${currency.symbol}</span>
 </li>

</script>

<script id="transactionUnconfirmed" type="text/x-jquery-tmpl">
<div>
 <fieldset class="ui-grid-a">
  <div class="ui-block-a"><button type="submit" data-theme="c" id="transaction-${id}-button-deny">Deny</button></div>
  <div class="ui-block-b"><button type="submit" data-theme="b" id="transaction-${id}-button-accept">Accept</button></div>
 </fieldset>
</div>
</script>

<script id="transactionConfirmed" type="text/x-jquery-tmpl">
 confirmed
</script>

<!-- templates end -->
{% endblock %}

